include ~/.config/sway/theme

exec_always export WLR_NO_HARDWARE_CURSORS=1
exec_always export LIBVA_DRIVER_NAME=nvidia
exec_always export GBM_BACKEND=nvidia-drm
exec_always export __GLX_VENDOR_LIBRARY_NAME=nvidia
exec dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=sway

output DP-2 mode "1920x1080@360.113Hz"

focus_follows_mouse no

input type:keyboard {
    xkb_layout us
    repeat_delay 300
    repeat_rate 50
}

gaps inner 8
gaps outer 4
default_border pixel 2
default_floating_border pixel 2

for_window [class=".*"] border pixel 2
for_window [app_id=".*"] border pixel 2

output * bg ~/pictures/wallpaper.png fill

set $mod Mod4
set $term footclient
set $browser firefox

exec wl-paste --watch cliphist store
exec nm-applet --indicator
exec blueman-applet
exec pasystray
exec openvpn3-indicator
exec waybar
exec mako
exec /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1

exec zen-browser
exec foot --server
exec spotify-launcher
exec discord-screenaudio
exec 1password --silent

exec swayidle -w \
    timeout 300 'swaylock -f' \
    timeout 600 'swaymsg "output * power off"' \
    resume 'swaymsg "output * power on"' \
    before-sleep 'swaylock -f'

workspace_auto_back_and_forth yes

set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

bindsym $mod+1 workspace number $ws1
bindsym $mod+2 workspace number $ws2
bindsym $mod+3 workspace number $ws3
bindsym $mod+4 workspace number $ws4
bindsym $mod+5 workspace number $ws5
bindsym $mod+6 workspace number $ws6
bindsym $mod+7 workspace number $ws7
bindsym $mod+8 workspace number $ws8
bindsym $mod+9 workspace number $ws9
bindsym $mod+0 workspace number $ws10

bindsym $mod+Shift+1 move container to workspace number $ws1; workspace number $ws1
bindsym $mod+Shift+2 move container to workspace number $ws2; workspace number $ws2
bindsym $mod+Shift+3 move container to workspace number $ws3; workspace number $ws3
bindsym $mod+Shift+4 move container to workspace number $ws4; workspace number $ws4
bindsym $mod+Shift+5 move container to workspace number $ws5; workspace number $ws5
bindsym $mod+Shift+6 move container to workspace number $ws6; workspace number $ws6
bindsym $mod+Shift+7 move container to workspace number $ws7; workspace number $ws7
bindsym $mod+Shift+8 move container to workspace number $ws8; workspace number $ws8
bindsym $mod+Shift+9 move container to workspace number $ws9; workspace number $ws9
bindsym $mod+Shift+0 move container to workspace number $ws10; workspace number $ws10

bindsym $mod+q kill

bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+b splith
bindsym $mod+v splitv

# bindsym $mod+s layout stacking
# bindsym $mod+w layout tabbed
# bindsym $mod+e layout toggle split

bindsym $mod+f fullscreen toggle

bindsym $mod+Shift+space floating toggle
bindsym $mod+c move position center
# bindsym $mod+space focus mode_toggle
# bindsym $mod+Shift+s sticky toggle

bindsym $mod+a focus parent
bindsym $mod+Shift+a focus child

bindsym $mod+Shift+minus move scratchpad
bindsym $mod+minus scratchpad show

mode "resize" {
    bindsym h resize shrink width 10px
    bindsym j resize grow height 10px
    bindsym k resize shrink height 10px
    bindsym l resize grow width 10px

    bindsym Shift+h resize shrink width 2px
    bindsym Shift+j resize grow height 2px
    bindsym Shift+k resize shrink height 2px
    bindsym Shift+l resize grow width 2px

    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}
bindsym $mod+r mode "resize"

bindsym Mod1+Shift+h exec wtype -M alt -M shift -k Left -m shift -m alt
bindsym Mod1+Shift+j exec wtype -M ctrl -k Tab -m ctrl
bindsym Mod1+Shift+k exec wtype -M ctrl -M shift -k Tab -m shift -m ctrl
bindsym Mod1+Shift+l exec wtype -M alt -M shift -k Right -m shift -m alt

bindsym $mod+Return exec $term
bindsym $mod+Space exec $menu
bindsym $mod+Shift+v exec cliphist list | bemenu -p 'clipboard:' -H 30 --fn 'monospace 11' | cliphist decode | wl-copy
bindsym Ctrl+Shift+space exec 1password --quick-access
bindsym $mod+Shift+f exec $browser

bindsym $mod+s exec grim -g "$(slurp)" ~/pictures/screenshots/$(date +%Y%m%d_%H%M%S).png
bindsym $mod+Shift+s exec grim -g "$(slurp)" - | wl-copy

bindsym $mod+Escape exec swaylock -f
bindsym $mod+Shift+e exec swaynag -t warning -m 'Exit Sway?' -B 'Yes' 'swaymsg exit'
bindsym $mod+Shift+c reload

bindsym XF86AudioRaiseVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
bindsym XF86AudioLowerVolume exec wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindsym XF86AudioMute exec wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindsym XF86AudioMicMute exec wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous
bindsym XF86AudioStop exec playerctl stop

bindsym XF86MonBrightnessUp exec brightnessctl set 5%+
bindsym XF86MonBrightnessDown exec brightnessctl set 5%-

for_window [app_id="pavucontrol"] floating enable
for_window [app_id="blueman-manager"] floating enable
for_window [app_id="thunar" title="File Operation Progress"] floating enable
for_window [window_role="pop-up"] floating enable
for_window [window_role="dialog"] floating enable

assign [app_id="zen"] workspace number 1
assign [app_id="spotify"] workspace number 9

for_window [class=".*"] inhibit_idle fullscreen
for_window [app_id=".*"] inhibit_idle fullscreen

floating_modifier $mod normal

include /etc/sway/config.d/*
seat seat0 xcursor_theme Simple-and-Soft 24
